"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9517],{27346:(e,t,s)=>{s.d(t,{F:()=>o});var a=s(95155);s(12115);var l=s(59034),n=s(25016);function o(e){let{className:t,children:s,...o}=e;return(0,a.jsxs)(l.bL,{"data-slot":"scroll-area",className:(0,n.cn)("relative",t),...o,children:[(0,a.jsx)(l.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),(0,a.jsx)(r,{}),(0,a.jsx)(l.OK,{})]})}function r(e){let{className:t,orientation:s="vertical",...o}=e;return(0,a.jsx)(l.VM,{"data-slot":"scroll-area-scrollbar",orientation:s,className:(0,n.cn)("flex touch-none p-px transition-colors select-none","vertical"===s&&"h-full w-2.5 border-l border-l-transparent","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent",t),...o,children:(0,a.jsx)(l.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},33789:(e,t,s)=>{s.d(t,{p:()=>n});var a=s(95155);s(12115);var l=s(25016);function n(e){let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...n})}},33884:(e,t,s)=>{s.d(t,{BK:()=>r,eu:()=>o,q5:()=>i});var a=s(95155);s(12115);var l=s(63366),n=s(25016);function o(e){let{className:t,...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function r(e){let{className:t,...s}=e;return(0,a.jsx)(l._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)(l.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}},37371:(e,t,s)=>{s.d(t,{FK:()=>l,K:()=>n,bx:()=>o,m3:()=>d,r4:()=>r,rc:()=>i,s4:()=>a});let a="USER_LANGUAGE_CHANGE",l="USER_THEME_CHANGE",n="USER_LOGIN",o="USER_LOGOUT",r="USER_EDITOR_FONT_SIZE_CHANGE",i="USER_EDITOR_AUTO_COMPLETE_CHANGE",d="USER_COUNTRY_CODE_CHANGE"},37709:(e,t,s)=>{s.d(t,{H:()=>n,o:()=>l.Ay});var a=s(95155),l=s(22663);let n=()=>(0,a.jsx)(l.l$,{})},47055:(e,t,s)=>{s.d(t,{M:()=>n,l:()=>l});var a=s(12115);let l=(0,a.createContext)({}),n=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useSettingsContext must be use inside SettingsProvider");return e}},53439:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(95155);s(12115);var l=s(38160),n=s.n(l);let o=e=>{let{setReCaptchaValue:t,getTurnstileRef:s}=e,o=(0,l.useTurnstile)();return(0,a.jsx)(n(),{theme:"light",sitekey:"0x4AAAAAAA1nNhOurnK73x78",onVerify:e=>{t(e),s&&s(o)}})}},54664:(e,t,s)=>{s.d(t,{w:()=>o});var a=s(95155);s(12115);var l=s(47321),n=s(25016);function o(e){let{className:t,orientation:s="horizontal",decorative:o=!0,...r}=e;return(0,a.jsx)(l.b,{"data-slot":"separator",decorative:o,orientation:s,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}},54679:(e,t,s)=>{s.d(t,{Cf:()=>c,Es:()=>p,L3:()=>m,c7:()=>u,lG:()=>r,rr:()=>g});var a=s(95155);s(12115);var l=s(93409),n=s(65229),o=s(25016);function r(e){let{...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"dialog",...t})}function i(e){let{...t}=e;return(0,a.jsx)(l.ZL,{"data-slot":"dialog-portal",...t})}function d(e){let{className:t,...s}=e;return(0,a.jsx)(l.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function c(e){let{className:t,children:s,showCloseButton:r=!0,...c}=e;return(0,a.jsxs)(i,{"data-slot":"dialog-portal",children:[(0,a.jsx)(d,{}),(0,a.jsxs)(l.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...c,children:[s,r&&(0,a.jsxs)(l.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function p(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function m(e){let{className:t,...s}=e;return(0,a.jsx)(l.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...s})}function g(e){let{className:t,...s}=e;return(0,a.jsx)(l.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...s})}},55600:(e,t,s)=>{s.d(t,{A:()=>a});function a(e,t,s){let a=document.createElement("script");return a.setAttribute("async",""),s&&(a.id=s),a.src=e,t?t.appendChild(a):document.head.appendChild(a),a}},58896:(e,t,s)=>{s.d(t,{D:()=>r,HM:()=>l,Ub:()=>i,h$:()=>n,pH:()=>o});var a=s(37371);let l=(e,t)=>(s,l)=>{if(s({type:a.r4,payload:+e}),!t){let e=l();localStorage.setItem("reduxState",JSON.stringify({...e}))}},n=(e,t)=>(s,l)=>{if(s({type:a.rc,payload:!!e}),!t){let e=l();localStorage.setItem("reduxState",JSON.stringify({...e}))}},o=(e,t)=>(s,l)=>{if(s({type:a.K,payload:e}),!t){let e=l();localStorage.setItem("reduxState",JSON.stringify({...e}))}},r=e=>t=>{e?fetch("/api/users/me",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>e.json()).then(e=>{e.plan||(e.plan=null),t(o(e))}):console.log("unable to refresh")},i=()=>e=>{e({type:a.bx,payload:{}}),localStorage.removeItem("reduxState")}},80093:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(95155),l=s(35299),n=s(25016);let o=e=>{let{open:t,message:s,className:o=""}=e;return t?(0,a.jsx)("div",{className:(0,n.cn)("fixed inset-0 z-50 flex items-center justify-center bg-black/70",o),children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 text-white",children:[(0,a.jsx)(l.A,{className:"h-10 w-10 animate-spin"}),s&&(0,a.jsx)("p",{className:"text-sm",children:s})]})}):null}},82101:(e,t,s)=>{s.d(t,{A:()=>f});var a=s(95155),l=s(12115),n=s(24033),o=s(1213),r=s(33884),i=s(97003),d=s(33789),c=s(90235),u=s(58896),p=s(55600),m=s(80093),g=s(53439),x=s(37709),h=s(55791);let f=e=>{let[t,s]=(0,l.useState)(!1);(0,o.d4)(e=>e.user.userLoggedIn);let f=(0,o.wA)(),[w,j]=(0,l.useState)(e.hideMoreOptions||!1),[v,y]=(0,l.useState)(""),[b,N]=(0,l.useState)(""),[S,C]=(0,l.useState)(""),[E,O]=(0,l.useState)(""),[_,A]=(0,l.useState)(null),[P,T]=(0,l.useState)("login"),[k,U]=(0,l.useState)(!1),[z,R]=(0,l.useState)(!1),[F,J]=(0,l.useState)(!1),[L,H]=(0,l.useState)(!1),[G,I]=(0,l.useState)(null),[M,V]=(0,l.useState)(null);async function $(t){if(t&&t.credential){s(!0);let a={provider:"google_one_tap",data:{credential:t.credential}},{statusCode:l,json:n,error:o}=await (0,h.RA)("/api/users",null,a);l<400&&n?(f((0,u.pH)(n)),e.onComplete({status:"success",data:n})):x.o.error("Google OneTap login failed. Error: "+o),s(!1)}else console.log("Google OneTap login failed. Error: ",t)}(0,l.useEffect)(()=>{try{return A(window.self!==window.top),window.document&&((0,p.A)("https://accounts.google.com/gsi/client").onload=()=>{window.google&&(window.google.accounts.id.initialize({client_id:"748546363-11lp66se7cl6samfubad3dlsjnau8t11.apps.googleusercontent.com",callback:$,cancel_on_tap_outside:!1}),window.google.accounts.id.renderButton(document.getElementById("googleDiv"),{type:"standard",theme:"outline",size:"large",text:"signin_with",shape:"rectangular",width:300}),google.accounts.id.prompt())}),()=>{if(window.google)try{window.google.accounts.id.cancel()}catch(e){}}}catch(e){console.log(e)}},[]);let K=async()=>{if(!v||!b||!S)return void x.o.error("Please fill all fields");if(!b.includes("@")||!b.includes("."))return void x.o.error("Please enter a valid email");if(S.length<8||S.length>32)return void x.o.error("Password should be between 8 to 32 characters");if(v.length<3||v.length>32)return void x.o.error("Name should be between 3 to 32 characters");if(b.length>128)return void x.o.error("Email should be less than 128 characters");let e=await fetch("/api/users/email/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v.trim(),email:b.trim(),password:S.trim(),reCapchaValue:G})}),t=await e.json();"success"===t.status?(T("otpSent"),I(null),null==M||M.reset()):x.o.error(t.message)},B=async()=>{let t=await fetch("/api/users/email/signup/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b.trim(),otp:E,reCapchaValue:G})}),s=await t.json();if("success"===s.status){let t=s.user;f((0,u.pH)(t)),e.onComplete({status:"success",data:t})}else I(null),null==M||M.reset(),x.o.error(s.message)},D=async()=>{let e=await fetch("/api/users/email/forgotPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b.trim(),reCapchaValue:G})}),t=await e.json();"success"!==t.status?x.o.error(t.message):(T("forgotPasswordOtpSent"),I(null))},Y=async()=>{let e=await fetch("/api/users/email/forgotPassword/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b.trim(),otp:E,password:S,reCapchaValue:G})}),t=await e.json();"success"===t.status?(x.o.success("Password reset successful, please login with new password"),T("login")):(I(null),null==M||M.reset(),x.o.error(t.message))};return null===_?(0,a.jsx)("div",{children:"Loading..."}):_?(0,a.jsx)("p",{className:"text-muted-foreground",children:"Failed to load login options, please try again."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-center py-2",children:[(0,a.jsx)(r.eu,{className:"h-10 w-10 rounded-md",children:(0,a.jsx)(r.BK,{src:"https://static.onecompiler.com/images/logo/logo_icon_small.png"})}),["signUp","login","otpSent"].includes(P)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"pt-8",children:[w&&(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Creating an account with onecompiler.com gets you additional benefits & it does not take more than couple of seconds."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"1. You can check all your programs history"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"2. You can write private programs which only you can see"})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{id:"googleDiv",className:"pl-2"})})]}),w&&(0,a.jsx)("div",{className:"flex justify-center mt-4",children:(0,a.jsxs)(i.$,{variant:"ghost",onClick:()=>j(!1),className:"text-primary",children:["More login options",(0,a.jsx)(n.A,{className:"ml-2 h-4 w-4"})]})}),!w&&(0,a.jsx)("form",{noValidate:!0,autoComplete:"off",children:(0,a.jsxs)("div",{className:"w-full pt-8 min-w-[320px] flex flex-col items-center space-y-3",children:[(0,a.jsx)("p",{className:"text-sm mb-2",children:"signUp"===P?"Create new account.":"or login with email & password"}),"signUp"===P&&(0,a.jsxs)("div",{className:"w-[304px] space-y-1.5",children:[(0,a.jsx)(c.J,{htmlFor:"name",children:"Name"}),(0,a.jsx)(d.p,{id:"name",placeholder:"Enter your name",value:v,onChange:e=>y(e.target.value)})]}),(0,a.jsxs)("div",{className:"w-[304px] space-y-1.5",children:[(0,a.jsx)(c.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)(d.p,{id:"email",type:"email",placeholder:"Enter your email",value:b,onChange:e=>N(e.target.value?e.target.value.toLowerCase():"")})]}),(0,a.jsxs)("div",{className:"w-[304px] space-y-1.5",children:[(0,a.jsx)(c.J,{htmlFor:"password",children:"Password"}),(0,a.jsx)(d.p,{id:"password",type:"password",placeholder:"Enter your password",value:S,onChange:e=>C(e.target.value)})]}),"otpSent"===P&&(0,a.jsxs)("div",{className:"w-[304px] space-y-1.5",children:[(0,a.jsx)(c.J,{htmlFor:"otp",children:"OTP (sent to your email)"}),(0,a.jsx)(d.p,{id:"otp",placeholder:"Enter OTP",value:E,onChange:e=>O(e.target.value)})]}),"login"===P&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"pt-3",children:(0,a.jsx)(g.A,{setReCaptchaValue:I,getTurnstileRef:e=>V(e)},P)}),(0,a.jsx)(i.$,{type:"button",disabled:!G,className:"w-[304px]",onClick:()=>{(async t=>{let s=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"onecompiler",data:t})}),a=await s.json();"success"===a.status?(f((0,u.pH)(a)),e.onComplete({status:"success",data:a})):(I(null),null==M||M.reset(),x.o.error(a.message))})({email:b,password:S,reCapchaValue:G})},children:"Login"})]}),("signUp"===P||"otpSent"===P)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"pt-3",children:(0,a.jsx)(g.A,{setReCaptchaValue:I,getTurnstileRef:e=>V(e)},P)}),"signUp"===P&&(0,a.jsx)(i.$,{type:"button",disabled:!G,className:"w-[304px]",onClick:()=>K(),children:"Sign Up"}),"otpSent"===P&&(0,a.jsx)(i.$,{type:"button",disabled:!G,className:"w-[304px]",onClick:()=>B(),children:"Finish Sign Up"})]}),"login"===P&&(0,a.jsxs)("div",{className:"text-sm text-center space-y-1 pt-2",children:[(0,a.jsxs)("p",{children:["New to OneCompiler?"," ",(0,a.jsx)("button",{type:"button",className:"text-primary underline hover:no-underline",onClick:()=>T("signUp"),children:"Sign Up"})]}),(0,a.jsx)("p",{children:(0,a.jsx)("button",{type:"button",className:"text-primary underline hover:no-underline",onClick:()=>T("forgotPassword"),children:"Forgot password?"})})]}),"signUp"===P&&(0,a.jsxs)("p",{className:"text-sm pt-2",children:["Already signed up?"," ",(0,a.jsx)("button",{type:"button",className:"text-primary underline hover:no-underline",onClick:()=>T("login"),children:"Login"})]})]})})]}),["forgotPassword","forgotPasswordOtpSent"].includes(P)&&(0,a.jsxs)("div",{className:"w-full pt-8 min-w-[320px] flex flex-col items-center space-y-3",children:[(0,a.jsx)("p",{className:"text-sm w-[304px] mb-2",children:"forgotPasswordOtpSent"===P?"Please check your email for the OTP, and create your new password.":"Please enter your registered email, we will send you the reset instructions."}),(0,a.jsxs)("div",{className:"w-[304px] space-y-1.5",children:[(0,a.jsx)(c.J,{htmlFor:"reset-email",children:"Email"}),(0,a.jsx)(d.p,{id:"reset-email",type:"email",placeholder:"Enter your email",value:b,onChange:e=>N(e.target.value?e.target.value.toLowerCase():"")})]}),"forgotPasswordOtpSent"===P&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-[304px] space-y-1.5",children:[(0,a.jsx)(c.J,{htmlFor:"reset-otp",children:"OTP (sent to your email)"}),(0,a.jsx)(d.p,{id:"reset-otp",placeholder:"Enter OTP",value:E,onChange:e=>O(e.target.value)})]}),(0,a.jsxs)("div",{className:"w-[304px] space-y-1.5",children:[(0,a.jsx)(c.J,{htmlFor:"new-password",children:"New Password"}),(0,a.jsx)(d.p,{id:"new-password",type:"password",placeholder:"Enter new password",value:S,onChange:e=>C(e.target.value)})]})]}),(0,a.jsx)("div",{className:"pt-3",children:(0,a.jsx)(g.A,{setReCaptchaValue:I,getTurnstileRef:e=>V(e)},P)}),"forgotPassword"===P&&(0,a.jsx)(i.$,{disabled:!G,className:"w-[304px]",onClick:()=>D(),children:"Continue"}),"forgotPasswordOtpSent"===P&&(0,a.jsx)(i.$,{disabled:!G,className:"w-[304px]",onClick:()=>Y(),children:"Reset Password"}),(0,a.jsx)("p",{className:"text-sm pt-2",children:(0,a.jsx)("button",{type:"button",className:"text-primary underline hover:no-underline",onClick:()=>T("login"),children:"Back to Login"})})]})]}),(0,a.jsx)(m.A,{open:t})]})}},90235:(e,t,s)=>{s.d(t,{J:()=>o});var a=s(95155);s(12115);var l=s(32894),n=s(25016);function o(e){let{className:t,...s}=e;return(0,a.jsx)(l.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}}}]);